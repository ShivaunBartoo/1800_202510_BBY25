<!-- 
    Main Page
    
    This is the primary interface for user interaction with the Likemind application.
    Users answer survey questions about their interests and values, which are used
    to match them with like-minded individuals in their group. As users answer questions,
    they make progress toward unlocking new matches.
    
    Features:
    - Display of the user's most recent match
    - Progress bar showing advancement toward the next match
    - Interactive survey cards for answering questions about interests and values
    - Dynamic loading of new survey questions
    
    The page uses a card-based UI with a stacked card appearance for survey questions
    and displays real-time progress feedback as questions are answered.
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Likemind</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="requires-auth" content="true" />
        <meta name="requires-setup" content="true" />
        <!-- Stylesheets -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <link rel="stylesheet" href="../public/styles/style_app.css" />
        <link rel="stylesheet" href="../public/styles/style_main.css" />
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Varela+Round&display=swap');
        </style>
        <!-- Scripts -->
        <script type="module" src="../public/scripts/app.js"></script>
        <script type="module" src="../public/scripts/main.js"></script>
    </head>
    <body>
        <!-- Header Section - Loaded dynamically by loadContent.js -->
        <header></header>
        <main>
            <!-- Most Recent Match Section - Displays the user's latest connection -->
            <div id="recent-match-container">
                <div class="section-header">Most Recent Match</div>
                <div class="match-card-container">
                    <div class="match-card card" id="match-placeholder">
                        <div class="match-card-content">
                            <div class="loader"></div>
                            <span id="no-matches" style="display: none">
                                Answer questions <br />
                                to unlock your first match!
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Tracking Section - Shows advancement toward next match -->
            <div class="match-progress-bar-container">
                <div class="match-progress-bar-header">
                    <div class="match-progress-bar-title">Answer Questions</div>
                    <div id="no-more-matches-message" style="display: none">
                        <strong>You've cleared your match queue!</strong><br />
                        <small><a href="group.html">click here to view your matches</a></small>
                    </div>
                    <div class="match-progress-bar-label"><strong id="remaining-questions">4</strong> more questions until your next match.</div>
                </div>
                <div class="match-progress-bar">
                    <div class="match-progress-bar-base">
                        <div class="match-progress-bar-fill"></div>
                    </div>
                </div>
            </div>

            <!-- Survey Interface Section - Stack of cards for answering questions -->
            <template id="survey-card-template">
                <div class="survey-card-content" style="opacity: 0">
                    <div class="survey-card-header">
                        <div class="survey-card-question">how interested are you in</div>
                        <div class="survey-card-topic"><div class="loader"></div></div>
                    </div>
                    <div class="survey-response-container">
                        <div class="survey-response material-icons large" data-value="-2">radio_button_unchecked</div>
                        <div class="survey-response material-icons medium" data-value="-1">radio_button_unchecked</div>
                        <div class="survey-response material-icons small" data-value="0">radio_button_unchecked</div>
                        <div class="survey-response material-icons medium" data-value="1">radio_button_unchecked</div>
                        <div class="survey-response material-icons large" data-value="2">radio_button_unchecked</div>
                    </div>
                    <div class="survey-response-labels">
                        <span class="response-label"> ← very uninterested</span>
                        <span class="response-label">very interested →</span>
                    </div>
                </div>
            </template>

            <div class="survey-card-gallery">
                <div class="survey-card-container">
                    <div class="survey-card card"></div>
                </div>
                <div class="survey-card-container">
                    <div class="survey-card card"></div>
                </div>
                <div class="survey-card-container">
                    <div class="survey-card card"></div>
                </div>
            </div>
        </main>
    </body>
</html>
